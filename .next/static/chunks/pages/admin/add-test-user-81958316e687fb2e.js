(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2759],{483:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/add-test-user",function(){return t(4729)}])},2761:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(3759).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},493:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(3759).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},2220:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(3759).Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},4729:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return u}});var r=t(5893),a=t(7294),l=t(1163),i=t(4733),n=t(1046),d=t(2761),c=t(493),o=t(2220),m=t(6501);function u(){let[e,s]=(0,a.useState)(""),[t,u]=(0,a.useState)(""),[h,x]=(0,a.useState)(!1),[p,y]=(0,a.useState)(!1),g=(0,l.useRouter)(),f=async s=>{s.preventDefault(),x(!0);try{let{data:s,error:r}=await n.OQ.from("allowed_users").insert([{email:e.toLowerCase(),full_name:t,temp_password:"temp123"}]).select();if(r)throw r;y(!0),m.default.success("Test user added successfully!"),console.log("Added user:",s)}catch(e){console.error("Error adding test user:",e),m.default.error("Failed to add test user: "+e.message)}finally{x(!1)}};return(0,r.jsx)(i.Z,{children:(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("div",{className:"bg-white shadow",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("button",{onClick:()=>g.push("/admin"),className:"mr-4 p-2 text-gray-400 hover:text-gray-600",children:(0,r.jsx)(d.Z,{className:"h-5 w-5"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold leading-7 text-gray-900",children:"Add Test User"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Add a user to the allowed list for testing registration"})]})]})})}),(0,r.jsx)("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,r.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,r.jsxs)("div",{className:"px-6 py-8",children:[p?(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(c.Z,{className:"mx-auto h-12 w-12 text-green-600 mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Test User Added Successfully!"}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 mb-6",children:["You can now test registration with email: ",(0,r.jsx)("strong",{children:e})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("button",{onClick:()=>g.push("/auth/register"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-church-primary hover:bg-church-secondary",children:"Test Registration"}),(0,r.jsx)("br",{}),(0,r.jsx)("button",{onClick:()=>g.push("/admin/allowed-users"),className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"View Allowed Users"})]})]}):(0,r.jsx)("form",{onSubmit:f,children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),(0,r.jsx)("input",{type:"email",id:"email",value:e,onChange:e=>s(e.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-church-primary focus:border-church-primary",placeholder:"test@example.com"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),(0,r.jsx)("input",{type:"text",id:"fullName",value:t,onChange:e=>u(e.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-church-primary focus:border-church-primary",placeholder:"Test User"})]}),(0,r.jsx)("div",{className:"pt-4",children:(0,r.jsx)("button",{type:"submit",disabled:h,className:"w-full flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-church-primary hover:bg-church-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:h?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"loading-spinner w-5 h-5 mr-2"}),"Adding User..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.Z,{className:"h-5 w-5 mr-2"}),"Add Test User"]})})})]})}),(0,r.jsxs)("div",{className:"mt-8 p-4 bg-gray-50 rounded-md",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Testing Instructions:"}),(0,r.jsxs)("ol",{className:"text-sm text-gray-600 space-y-1 list-decimal list-inside",children:[(0,r.jsx)("li",{children:"Add a test user with your email address"}),(0,r.jsx)("li",{children:"Go to registration page and register with that email"}),(0,r.jsx)("li",{children:"Complete the study sections and agreement"}),(0,r.jsx)("li",{children:"As admin, approve the agreement to test email sending"})]})]})]})})})]})})}}},function(e){e.O(0,[5285,4733,2888,9774,179],function(){return e(e.s=483)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6414],{3653:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/fix-alen-email",function(){return a(5129)}])},493:function(e,s,a){"use strict";a.d(s,{Z:function(){return l}});let l=(0,a(3759).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},9475:function(e,s,a){"use strict";a.d(s,{Z:function(){return l}});let l=(0,a(3759).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},5129:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return m}});var l=a(5893),r=a(7294),t=a(4733),i=a(1046),n=a(493),c=a(9475),d=a(6501);function m(){let[e,s]=(0,r.useState)(!1),[a,m]=(0,r.useState)(null),o=async()=>{s(!0),m(null);try{console.log("Fixing Alen email address...");let{data:e,error:s}=await i.OQ.from("allowed_users").select("*").eq("email","alenpr76@gmail.com").single();if(s||!e)throw Error("Could not find user with email alenpr76@gmail.com");console.log("Current data:",e);let{data:a,error:l}=await i.OQ.from("allowed_users").update({email:"alenps76@gmail.com"}).eq("id",e.id).select().single();if(l)throw l;console.log("Updated data:",a),m({success:!0,message:"Email address updated successfully!",oldEmail:"alenpr76@gmail.com",newEmail:"alenps76@gmail.com",userData:a}),d.default.success("Email address fixed! Alen can now register with alenps76@gmail.com")}catch(e){console.error("Fix error:",e),m({success:!1,message:e.message,error:e}),d.default.error("Failed to fix email address: "+e.message)}finally{s(!1)}};return(0,l.jsx)(t.Z,{requireAuth:!0,children:(0,l.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,l.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,l.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,l.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,l.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"Fix Alen's Email Address"}),(0,l.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Update the email from alenpr76@gmail.com to alenps76@gmail.com"})]}),(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Issue:"}),(0,l.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,l.jsxs)("p",{className:"text-sm text-yellow-800",children:["The allowed users table has ",(0,l.jsx)("code",{children:"alenpr76@gmail.com"})," but the user is trying to register with ",(0,l.jsx)("code",{children:"alenps76@gmail.com"}),'. This is causing the "Registration is by invitation only" error.']})})]}),(0,l.jsx)("div",{className:"mb-6",children:(0,l.jsx)("button",{onClick:o,disabled:e,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:e?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"loading-spinner w-4 h-4 mr-2"}),"Fixing..."]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.Z,{className:"h-4 w-4 mr-2"}),"Fix Email Address"]})})}),a&&(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Result:"}),(0,l.jsxs)("div",{className:"p-4 rounded-lg border ".concat(a.success?"bg-green-50 border-green-200":"bg-red-50 border-red-200"),children:[(0,l.jsxs)("div",{className:"flex items-center",children:[a.success?(0,l.jsx)(n.Z,{className:"h-5 w-5 text-green-500 mr-2"}):(0,l.jsx)(c.Z,{className:"h-5 w-5 text-red-500 mr-2"}),(0,l.jsx)("p",{className:"text-sm font-medium ".concat(a.success?"text-green-800":"text-red-800"),children:a.message})]}),a.success&&(0,l.jsxs)("div",{className:"mt-3 text-sm text-green-700",children:[(0,l.jsxs)("p",{children:["✅ Changed from: ",(0,l.jsx)("code",{children:a.oldEmail})]}),(0,l.jsxs)("p",{children:["✅ Changed to: ",(0,l.jsx)("code",{children:a.newEmail})]}),(0,l.jsx)("p",{className:"mt-2 font-medium",children:"Alen can now register successfully with alenps76@gmail.com!"})]})]}),a.userData&&(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsx)("h3",{className:"text-md font-medium text-gray-900 mb-2",children:"Updated User Data:"}),(0,l.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:(0,l.jsx)("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:JSON.stringify(a.userData,null,2)})})]})]}),(0,l.jsxs)("div",{className:"mt-8 border-t pt-6",children:[(0,l.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Next Steps:"}),(0,l.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,l.jsx)("p",{children:"1. ✅ Fix the email address (use the button above)"}),(0,l.jsx)("p",{children:"2. \uD83D\uDD04 Ask Alen to try registering again with alenps76@gmail.com"}),(0,l.jsx)("p",{children:"3. \uD83D\uDCE7 Check that the verification email is received"}),(0,l.jsx)("p",{children:"4. ✅ Complete the registration process"})]})]})]})]})})})})}}},function(e){e.O(0,[5285,4733,2888,9774,179],function(){return e(e.s=3653)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7850],{3189:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/sermons",function(){return t(8469)}])},3543:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(3759).Z)("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]])},3346:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(3759).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},5928:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(3759).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5452:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(3759).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},6815:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(3759).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},4270:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(3759).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},8267:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(3759).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},8469:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return g}});var r=t(5893),n=t(7294),i=t(1163),a=t(4733),c=t(1046),l=t(1164),o=t(4270),m=t(3543),u=t(3346),d=t(8267),x=t(6815),h=t(5452),f=t(5928),y=t(6501);function g(){let[e,s]=(0,n.useState)(null),[t,g]=(0,n.useState)([]),[p,j]=(0,n.useState)(!0),[N,w]=(0,n.useState)(!1),v=(0,i.useRouter)();(0,n.useEffect)(()=>{b()},[]);let b=async()=>{try{let e=await (0,c.ts)();if(!e){v.push("/auth/login");return}if(s(e),!await (0,l.Cn)(e.id,e.email)){v.push("/dashboard");return}w(!0),await k()}catch(e){console.error("Error checking access:",e),y.default.error("Failed to verify access")}finally{j(!1)}},k=async()=>{try{let e=await fetch("/api/sermons"),s=await e.json();if(e.ok)g(s.sermons||[]);else throw Error(s.error||"Failed to load sermons")}catch(e){console.error("Error loading sermons:",e),y.default.error("Failed to load sermons")}},Z=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return p?(0,r.jsx)(a.Z,{requireAuth:!0,children:(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)("div",{className:"loading-spinner"})})}):N?(0,r.jsx)(a.Z,{requireAuth:!0,children:(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("div",{className:"bg-white shadow",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6",children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900",children:"Sermon Management"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Create and manage interactive sermon notes and Q&A sessions"})]}),(0,r.jsxs)("button",{onClick:()=>v.push("/admin/sermons/create"),className:"inline-flex items-center px-4 py-2 bg-church-primary text-white rounded-md hover:bg-church-secondary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-church-primary min-h-[44px] transition-colors duration-200",children:[(0,r.jsx)(o.Z,{className:"h-4 w-4 mr-2"}),"Create New Sermon"]})]})})}),(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:0===t.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(m.Z,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,r.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No sermons"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating your first interactive sermon."}),(0,r.jsx)("div",{className:"mt-6",children:(0,r.jsxs)("button",{onClick:()=>v.push("/admin/sermons/create"),className:"inline-flex items-center px-4 py-2 bg-church-primary text-white rounded-md hover:bg-church-secondary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-church-primary",children:[(0,r.jsx)(o.Z,{className:"h-4 w-4 mr-2"}),"Create New Sermon"]})})]}):(0,r.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:t.map(e=>{var s;return(0,r.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(u.Z,{className:"h-5 w-5 text-gray-400 mr-2"}),(0,r.jsx)("span",{className:"text-sm text-gray-500",children:Z(e.sermon_date)})]})}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2 line-clamp-2",children:e.title}),e.pastor_name&&(0,r.jsxs)("div",{className:"flex items-center mb-2",children:[(0,r.jsx)(d.Z,{className:"h-4 w-4 text-gray-400 mr-2"}),(0,r.jsx)("span",{className:"text-sm text-gray-600",children:e.pastor_name})]}),e.scripture_reference&&(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[(0,r.jsx)(m.Z,{className:"h-4 w-4 text-gray-400 mr-2"}),(0,r.jsx)("span",{className:"text-sm text-gray-600",children:e.scripture_reference})]}),(0,r.jsxs)("div",{className:"text-sm text-gray-500 mb-4",children:[(null===(s=e.sermon_questions)||void 0===s?void 0:s.length)||0," questions"]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsxs)("button",{onClick:()=>v.push("/admin/sermons/".concat(e.id,"/edit")),className:"flex-1 inline-flex items-center justify-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-church-primary",children:[(0,r.jsx)(x.Z,{className:"h-4 w-4 mr-1"}),"Edit"]}),(0,r.jsxs)("button",{onClick:()=>v.push("/admin/sermons/".concat(e.id,"/questions")),className:"flex-1 inline-flex items-center justify-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-church-primary",children:[(0,r.jsx)(h.Z,{className:"h-4 w-4 mr-1"}),"Q&A"]}),(0,r.jsxs)("button",{onClick:()=>v.push("/admin/sermons/".concat(e.id,"/view")),className:"flex-1 inline-flex items-center justify-center px-3 py-2 bg-church-primary text-white text-sm font-medium rounded-md hover:bg-church-secondary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-church-primary",children:[(0,r.jsx)(f.Z,{className:"h-4 w-4 mr-1"}),"View"]})]})]})},e.id)})})})]})}):null}}},function(e){e.O(0,[5285,4733,2888,9774,179],function(){return e(e.s=3189)}),_N_E=e.O()}]);
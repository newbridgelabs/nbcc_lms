(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9375],{6756:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/agreements/[id]",function(){return s(3693)}])},1097:function(e,t,s){"use strict";s.d(t,{Z:function(){return c}});var a=s(5893),r=s(7294),n=s(8790),i=s(163),l=s(2779),o=s(8865);function c(e){let{onSignatureChange:t,label:s="Your Signature",required:c=!1,disabled:d=!1}=e,m=(0,r.useRef)(null),[u,h]=(0,r.useState)(!0),[g,x]=(0,r.useState)(null);(0,r.useEffect)(()=>{m.current&&m.current.on()},[]);let p=()=>{if(m.current&&!m.current.isEmpty()){let e=m.current.toDataURL("image/png");x(e),h(!1),t&&t(e)}};return(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s,c&&(0,a.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,a.jsxs)("div",{className:"border-2 border-gray-300 rounded-lg bg-white signature-pad-container",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(n.Z,{ref:m,canvasProps:{width:500,height:200,className:"signature-canvas w-full h-40 sm:h-48 rounded-t-lg",style:{border:"none",background:d?"#f9fafb":"white",touchAction:"none"}},onEnd:()=>{m.current&&!m.current.isEmpty()&&p()},backgroundColor:d?"#f9fafb":"white",penColor:d?"#d1d5db":"#000000",disabled:d}),u&&!d&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,a.jsx)("p",{className:"text-gray-400 text-xs sm:text-sm text-center px-4",children:"Sign here with your mouse or finger"})}),d&&(0,a.jsx)("div",{className:"absolute inset-0 bg-gray-100 bg-opacity-50 flex items-center justify-center",children:(0,a.jsx)("p",{className:"text-gray-500 text-xs sm:text-sm text-center px-4",children:"Signature pad disabled"})})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-0 p-3 bg-gray-50 border-t border-gray-200 rounded-b-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>{m.current&&(m.current.clear(),h(!0),x(null),t&&t(null))},disabled:d||u,className:"flex items-center px-3 py-2 text-xs sm:text-sm text-gray-600 hover:text-gray-800 disabled:opacity-50 disabled:cursor-not-allowed min-h-[44px] rounded",children:[(0,a.jsx)(i.Z,{className:"h-4 w-4 mr-1"}),"Clear"]}),g&&(0,a.jsxs)("button",{type:"button",onClick:()=>{if(g){let e=document.createElement("a");e.download="signature.png",e.href=g,document.body.appendChild(e),e.click(),document.body.removeChild(e)}},className:"flex items-center px-3 py-2 text-xs sm:text-sm text-blue-600 hover:text-blue-800 min-h-[44px] rounded",children:[(0,a.jsx)(l.Z,{className:"h-4 w-4 mr-1"}),"Download"]})]}),(0,a.jsx)("div",{className:"flex items-center",children:!u&&(0,a.jsxs)("div",{className:"flex items-center text-green-600 text-xs sm:text-sm",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4 mr-1"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Signature captured"}),(0,a.jsx)("span",{className:"sm:hidden",children:"Captured"})]})})]})]}),c&&u&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:"Signature is required"}),(0,a.jsxs)("p",{className:"mt-2 text-xs text-gray-500 leading-relaxed",children:[(0,a.jsx)("span",{className:"hidden sm:inline",children:"Use your mouse or finger to draw your signature in the box above."}),(0,a.jsx)("span",{className:"sm:hidden",children:"Draw your signature with your finger in the box above."})," ","You can clear and redraw if needed."]})]})}},2761:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(3759).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},3346:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(3759).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},493:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(3759).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},6691:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(3759).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},3693:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return b}});var a=s(5893),r=s(7294),n=s(1163),i=s(4733),l=s(1097),o=s(1046),c=s(1164),d=s(2761),m=s(493),u=s(8267),h=s(6691),g=s(1700),x=s(3346);let p=(0,s(3759).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);var f=s(6501),y=s(1814);function b(){var e;let[t,s]=(0,r.useState)(null),[b,j]=(0,r.useState)(null),[v,N]=(0,r.useState)(!0),[w,C]=(0,r.useState)(null),[k,D]=(0,r.useState)(!1),S=(0,n.useRouter)(),{id:_}=S.query;(0,r.useEffect)(()=>{_&&P()},[_]);let P=async()=>{let{isAdmin:e,user:t}=await (0,c.jW)(S,s,N);e&&t&&await E()},E=async()=>{try{let{data:e,error:t}=await o.OQ.from("agreements").select("*, users(full_name, email)").eq("id",_).single();if(t)throw t;j(e),e.pastor_signature&&C(e.pastor_signature)}catch(e){console.error("Error loading agreement:",e),f.default.error("Failed to load agreement"),S.push("/admin/agreements")}},A=async()=>{if(!w){f.default.error("Please provide your signature before approving");return}D(!0);try{console.log("Starting agreement approval process...");let e=await fetch("/api/admin/approve-agreement",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({agreementId:b.id,pastorSignature:w})}),t=await e.json();if(!e.ok)throw Error(t.error||"Failed to approve agreement");console.log("Agreement approved successfully:",t);try{console.log("Sending emails via client-side EmailJS...");let e=Z("email"),s=Z("fullName")||Z("name")||"Member";await (0,y.G)(e,s,t.pdfUrl,b.id),console.log("✅ Emails sent successfully via client-side"),f.default.success("Agreement approved, PDF generated, and emails sent successfully!")}catch(e){console.error("❌ Email sending failed:",e),f.default.success("Agreement approved and PDF generated successfully! (Email notification failed)")}S.push("/admin/agreements")}catch(e){console.error("Error approving agreement:",e),f.default.error("Failed to approve agreement: ".concat(e.message))}finally{D(!1)}};if(v)return(0,a.jsx)(i.Z,{children:(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)("div",{className:"loading-spinner"})})});if(!b)return(0,a.jsx)(i.Z,{children:(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Agreement not found"}),(0,a.jsx)("button",{onClick:()=>S.push("/admin/agreements"),className:"mt-4 text-church-primary hover:text-church-secondary",children:"Back to agreements"})]})})});let L=(null==b?void 0:b.form_data)||{},Z=function(e){var t,s;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Not provided";if(null!==L[e]&&void 0!==L[e]&&""!==L[e])return L[e];for(let t of[e.toLowerCase(),e.replace(/([A-Z])/g,"_$1").toLowerCase(),e.replace(/([A-Z])/g,"-$1").toLowerCase(),"fullName"===e?"name":null,"fullName"===e?"full_name":null,"emergencyContact"===e?"emergency_contact":null,"emergencyPhone"===e?"emergency_phone":null,"dateOfBirth"===e?"date_of_birth":null,"previousChurch"===e?"previous_church":null].filter(Boolean)){let e=L[t];if(null!=e&&""!==e)return e}return"email"===e&&(null==b?void 0:null===(t=b.users)||void 0===t?void 0:t.email)?b.users.email:"fullName"===e&&(null==b?void 0:null===(s=b.users)||void 0===s?void 0:s.full_name)?b.users.full_name:a};return(0,a.jsx)(i.Z,{children:(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-white shadow",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("button",{onClick:()=>S.push("/admin/agreements"),className:"mr-4 p-2 text-gray-400 hover:text-gray-600",children:(0,a.jsx)(d.Z,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold leading-7 text-gray-900",children:"Review Membership Agreement"}),(0,a.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:[Z("fullName")||Z("name")||"Unknown"," • Submitted ",new Date(b.created_at).toLocaleDateString()]})]})]})})}),(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)("div",{className:"bg-white shadow rounded-lg p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:["completed"===b.status?(0,a.jsx)(m.Z,{className:"h-6 w-6 text-green-500 mr-3"}):(0,a.jsx)("div",{className:"h-6 w-6 bg-yellow-500 rounded-full mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-lg font-medium text-gray-900",children:["Status: ","completed"===b.status?"Completed":"Pending Review"]}),b.signed_at&&(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Approved on ",new Date(b.signed_at).toLocaleDateString()]})]})]})}),(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Personal Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(u.Z,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Full Name"}),(0,a.jsx)("p",{className:"font-medium text-gray-900",children:Z("fullName")||Z("name")||(null===(e=Z("email"))||void 0===e?void 0:e.split("@")[0])||"Not provided"})]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(h.Z,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Email"}),(0,a.jsx)("p",{className:"font-medium text-gray-900",children:Z("email")})]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(g.Z,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Phone"}),(0,a.jsx)("p",{className:"font-medium text-gray-900",children:Z("phone")})]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(x.Z,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Date of Birth"}),(0,a.jsx)("p",{className:"font-medium text-gray-900",children:Z("dateOfBirth")})]})]})]}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)(p,{className:"h-5 w-5 text-gray-400 mr-3 mt-1"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Address"}),(0,a.jsx)("p",{className:"font-medium text-gray-900",children:Z("address")})]})]})})]}),(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Emergency Contact"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Contact Name"}),(0,a.jsx)("p",{className:"font-medium text-gray-900",children:Z("emergencyContact")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Contact Phone"}),(0,a.jsx)("p",{className:"font-medium text-gray-900",children:Z("emergencyPhone")})]})]})]}),(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Church Background"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Previous Church"}),(0,a.jsx)("p",{className:"font-medium text-gray-900",children:Z("previousChurch","Not specified")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Baptized"}),(0,a.jsx)("p",{className:"font-medium text-gray-900",children:Z("baptized","Not specified")})]}),Z("testimony",null)&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Testimony"}),(0,a.jsx)("p",{className:"font-medium text-gray-900",children:Z("testimony")})]})]})]}),(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Signatures"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900 mb-4",children:"Member Signature"}),b.user_signature?(0,a.jsxs)("div",{className:"border rounded-lg p-4 bg-gray-50",children:[(0,a.jsx)("img",{src:b.user_signature,alt:"User signature",className:"max-w-full h-24 object-contain"}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["Signed on ",new Date(b.created_at).toLocaleDateString()]})]}):(0,a.jsx)("p",{className:"text-gray-500",children:"No signature provided"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900 mb-4",children:"Pastor Signature"}),"completed"===b.status&&b.pastor_signature?(0,a.jsxs)("div",{className:"border rounded-lg p-4 bg-gray-50",children:[(0,a.jsx)("img",{src:b.pastor_signature,alt:"Pastor signature",className:"max-w-full h-24 object-contain"}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["Signed on ",new Date(b.signed_at).toLocaleDateString()]})]}):(0,a.jsxs)("div",{children:[(0,a.jsx)(l.Z,{onSignatureChange:C,label:"Pastor Signature",required:!0}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Sign above to approve this membership agreement"})]})]})]})]}),"pending"===b.status&&(0,a.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,a.jsx)("button",{onClick:()=>S.push("/admin/agreements"),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:"Cancel"}),(0,a.jsx)("button",{onClick:A,disabled:!w||k,className:"px-6 py-2 bg-church-primary text-white rounded-md hover:bg-church-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:k?(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"loading-spinner w-4 h-4 mr-2"}),"Processing..."]}):"Approve & Generate PDF"})]})]})})]})})}},1814:function(e,t,s){"use strict";s.d(t,{G:function(){return v}});class a{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}let r={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:(()=>{if("undefined"!=typeof localStorage)return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}})()},n=e=>e?"string"==typeof e?{publicKey:e}:"[object Object]"===e.toString()?e:{}:{},i=async(e,t,s={})=>{let n=await fetch(r.origin+e,{method:"POST",headers:s,body:t}),i=await n.text(),l=new a(n.status,i);if(n.ok)return l;throw l},l=(e,t,s)=>{if(!e||"string"!=typeof e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||"string"!=typeof t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s||"string"!=typeof s)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},o=e=>{if(e&&"[object Object]"!==e.toString())throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},c=e=>e.webdriver||!e.languages||0===e.languages.length,d=()=>new a(451,"Unavailable For Headless Browser"),m=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if("string"!=typeof t)throw"The BlockList watchVariable has to be a string"},u=e=>!e.list?.length||!e.watchVariable,h=(e,t)=>e instanceof FormData?e.get(t):e[t],g=(e,t)=>{if(u(e))return!1;m(e.list,e.watchVariable);let s=h(t,e.watchVariable);return"string"==typeof s&&e.list.includes(s)},x=()=>new a(403,"Forbidden"),p=(e,t)=>{if("number"!=typeof e||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&"string"!=typeof t)throw"The LimitRate ID has to be a non-empty string"},f=async(e,t,s)=>{let a=Number(await s.get(e)||0);return t-Date.now()+a},y=async(e,t,s)=>{if(!t.throttle||!s)return!1;p(t.throttle,t.id);let a=t.id||e;return await f(a,t.throttle,s)>0||(await s.set(a,Date.now().toString()),!1)},b=()=>new a(429,"Too Many Requests");var j={init:(e,t="https://api.emailjs.com")=>{if(!e)return;let s=n(e);r.publicKey=s.publicKey,r.blockHeadless=s.blockHeadless,r.storageProvider=s.storageProvider,r.blockList=s.blockList,r.limitRate=s.limitRate,r.origin=s.origin||t},send:async(e,t,s,a)=>{let m=n(a),u=m.publicKey||r.publicKey,h=m.blockHeadless||r.blockHeadless,p=m.storageProvider||r.storageProvider,f={...r.blockList,...m.blockList},j={...r.limitRate,...m.limitRate};return h&&c(navigator)?Promise.reject(d()):(l(u,e,t),o(s),s&&g(f,s))?Promise.reject(x()):await y(location.pathname,j,p)?Promise.reject(b()):i("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:u,service_id:e,template_id:t,template_params:s}),{"Content-type":"application/json"})}};let v=async(e,t,s,a)=>{try{console.log("=== CLIENT-SIDE EMAIL SENDING ==="),console.log("Agreement ID:",a),console.log("User Email:",e),console.log("User Name:",t),console.log("PDF URL:",s);let r="newbridgelabs@gmail.com";console.log("Admin Email:",r);let n="service_6p2szkk",i="template_h0ekplo",l="vjXyYpLgDibpvaLPL";if(!n||!i||!l)throw Error("EmailJS configuration missing");j.init(l),console.log("Sending user email...");let o={to_email:e,to_name:t,subject:"\uD83C\uDF89 Your NBCC Membership Agreement has been Approved!",message:"Dear ".concat(t,",\n\nCongratulations! \uD83C\uDF89 Your membership agreement has been approved by the church leadership.\n\n✅ Your membership status: APPROVED\n\uD83D\uDCC4 Your signed agreement is ready for download\n\uD83C\uDFDB️ Welcome to the New Bridge Community Church family!\n\nYou can download your signed agreement using the link below. Please save this document for your records.\n\nDownload Link: ").concat(s,"\n\nWe are excited to have you as part of our church community. You will receive further information about upcoming events, services, and opportunities to get involved.\n\nIf you have any questions, please don't hesitate to contact us at ").concat(r,".\n\nBlessings and welcome to the family!\n\nPastor and Leadership Team\nNew Bridge Community Church"),pdf_url:s,agreement_id:a},c=await j.send(n,i,o);console.log("✅ User email sent successfully:",c),console.log("Sending admin email...");let d={to_email:r,to_name:"NBCC Admin Team",subject:"\uD83D\uDCCB Agreement Approved and Member Notified",message:"Hello Admin Team,\n\nAn agreement has been successfully approved and the member has been notified.\n\n\uD83D\uDCCA AGREEMENT DETAILS:\n• Member Name: ".concat(t,"\n• Member Email: ").concat(e,"\n• Agreement ID: ").concat(a,"\n• Approval Date: ").concat(new Date().toLocaleDateString(),"\n• PDF Document: ").concat(s,"\n\n✅ ACTIONS COMPLETED:\n• Agreement approved by admin\n• PDF generated and uploaded\n• Member notification email sent successfully\n\nThe member has been welcomed to the church family and provided with their signed agreement document.\n\nThis is an automated notification from the NBCC Church Management System.\n\n---\nNBCC Church Management System\nAutomated Email Service"),pdf_url:s,agreement_id:a,user_name:t,user_email:e},m=await j.send(n,"template_h0ekplo",d);return console.log("✅ Admin email sent successfully:",m),{success:!0,message:"Both emails sent successfully",userResponse:c,adminResponse:m}}catch(e){throw console.error("❌ Email sending error:",e),e}}}},function(e){e.O(0,[5285,1998,4733,2888,9774,179],function(){return e(e.s=6756)}),_N_E=e.O()}]);
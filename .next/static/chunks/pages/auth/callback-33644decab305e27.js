(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5577],{3:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/callback",function(){return t(9058)}])},3765:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(3759).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},493:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(3759).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},9058:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return x}});var r=t(5893),i=t(7294),n=t(1163),c=t(4733),a=t(1046);let l=(0,t(3759).Z)("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);var u=t(493),o=t(3765),d=t(6501);function x(){let[e,s]=(0,i.useState)("loading"),[t,x]=(0,i.useState)(""),h=(0,n.useRouter)();return((0,i.useEffect)(()=>{(async()=>{try{if(!a.OQ)throw Error("Supabase not configured");let e=new URLSearchParams(window.location.hash.substring(1)),t=e.get("access_token");e.get("refresh_token");let r=e.get("type");if("signup"===r&&t)s("success"),x("Email verified successfully! You can now sign in."),d.default.success("Email verified successfully!"),setTimeout(()=>{h.push("/auth/login")},3e3);else if("recovery"===r&&t)s("success"),x("You can now reset your password."),h.push("/auth/reset-password");else{let{data:{user:e}}=await a.OQ.auth.getUser();if(e)s("success"),x("Sign in successful! Redirecting to dashboard..."),d.default.success("Welcome!"),setTimeout(()=>{h.push("/dashboard")},2e3);else throw Error("Invalid verification link or link has expired")}}catch(e){console.error("Auth callback error:",e),s("error"),x(e.message||"Verification failed. Please try again."),d.default.error("Verification failed")}})()},[h]),"loading"===e)?(0,r.jsx)(c.Z,{children:(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(l,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-church-primary"}),(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Verifying your email..."}),(0,r.jsx)("p",{className:"text-gray-600",children:"Please wait while we verify your email address."})]})})}):"success"===e?(0,r.jsx)(c.Z,{children:(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-green-100 mb-4",children:(0,r.jsx)(u.Z,{className:"h-8 w-8 text-green-600"})}),(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Verification Successful!"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:t}),(0,r.jsx)("button",{onClick:()=>h.push("/auth/login"),className:"bg-church-primary hover:bg-church-secondary text-white px-6 py-2 rounded-md text-sm font-medium",children:"Go to Sign In"})]})})}):(0,r.jsx)(c.Z,{children:(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-red-100 mb-4",children:(0,r.jsx)(o.Z,{className:"h-8 w-8 text-red-600"})}),(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Verification Failed"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:t}),(0,r.jsxs)("div",{className:"space-x-4",children:[(0,r.jsx)("button",{onClick:()=>h.push("/auth/register"),className:"bg-church-primary hover:bg-church-secondary text-white px-6 py-2 rounded-md text-sm font-medium",children:"Try Again"}),(0,r.jsx)("button",{onClick:()=>h.push("/auth/login"),className:"bg-gray-300 hover:bg-gray-400 text-gray-700 px-6 py-2 rounded-md text-sm font-medium",children:"Sign In"})]})]})})})}}},function(e){e.O(0,[5285,4733,2888,9774,179],function(){return e(e.s=3)}),_N_E=e.O()}]);